<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Discover upcoming movies and shows streaming on Netflix, Amazon Prime Video, JioHotstar, and more">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: https:; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; frame-src https://www.youtube.com https://www.youtube-nocookie.com; media-src https://www.youtube.com https://www.youtube-nocookie.com; connect-src 'self' https:;">

    <title>Upcoming Movies & Shows</title>

    <!-- Preconnect to external domains for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://www.youtube.com" crossorigin>
    <link rel="dns-prefetch" href="https://www.youtube.com">

    <!-- Red Hat Display Font -->
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Preload critical assets -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="script.js" as="script">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="detail-modal.css">

    <!-- Theme color for mobile browsers -->
    <meta name="theme-color" content="#000000">
</head>
<body>
    <main>
        <!-- Parallax Carousel Hero Section with 5 Vertical Posters -->
        <div class="hero-container">
            <!-- Main Hero Title -->
            <div class="hero-title-section">
                <h1 class="hero-main-title">Movies & Shows</h1>
                <p class="hero-subtitle">Discover what's streaming and coming to theatres</p>
            </div>

            <!-- Parallax Carousel Container -->
            <div class="hero-carousel-container">
                <div class="hero-carousel" id="heroCarousel">
                    <!-- 5 Vertical Poster Cards -->
                    <div class="hero-poster-card" data-index="0">
                        <div class="hero-poster-image"></div>
                        <div class="hero-poster-overlay">
                            <h3 class="hero-poster-title">Loading...</h3>
                        </div>
                    </div>
                    <div class="hero-poster-card" data-index="1">
                        <div class="hero-poster-image"></div>
                        <div class="hero-poster-overlay">
                            <h3 class="hero-poster-title">Loading...</h3>
                        </div>
                    </div>
                    <div class="hero-poster-card" data-index="2">
                        <div class="hero-poster-image"></div>
                        <div class="hero-poster-overlay">
                            <h3 class="hero-poster-title">Loading...</h3>
                        </div>
                    </div>
                    <div class="hero-poster-card" data-index="3">
                        <div class="hero-poster-image"></div>
                        <div class="hero-poster-overlay">
                            <h3 class="hero-poster-title">Loading...</h3>
                        </div>
                    </div>
                    <div class="hero-poster-card" data-index="4">
                        <div class="hero-poster-image"></div>
                        <div class="hero-poster-overlay">
                            <h3 class="hero-poster-title">Loading...</h3>
                        </div>
                    </div>
                </div>

                <!-- Carousel Navigation -->
                <button class="carousel-nav carousel-nav-prev" onclick="moveCarousel(-1)" aria-label="Previous">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M15 18l-6-6 6-6"/>
                    </svg>
                </button>
                <button class="carousel-nav carousel-nav-next" onclick="moveCarousel(1)" aria-label="Next">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="loading" id="loading">Loading amazing content</div>

        <!-- Filters Section (Only for OTT content) -->
        <div class="filters-section" id="filtersSection" style="display: none;">
            <div class="content-type-section" id="contentTypeSection"></div>
            <div class="platform-section">
                <div class="filter-chips" id="filterChips"></div>
                <button class="clear-filters" onclick="clearFilters()">Clear All</button>
            </div>
        </div>

        <!-- Content Rows Container -->
        <div class="content-sections">
            <!-- Row 1: New Releases (OTT) -->
            <section class="content-row" id="ottReleasedRow" data-row-type="ott_released">
                <div class="row-header">
                    <h2 class="row-title">New OTT Releases</h2>
                    <p class="row-subtitle">Recently released on streaming platforms</p>
                </div>
                <div class="timeline-container" id="ottReleasedTimeline"></div>
            </section>

            <!-- Row 2: Upcoming OTT Releases -->
            <section class="content-row" id="ottUpcomingRow" data-row-type="ott_upcoming">
                <div class="row-header">
                    <h2 class="row-title">Upcoming OTT Releases</h2>
                    <p class="row-subtitle">Coming soon to streaming platforms</p>
                </div>
                <div class="timeline-container" id="ottUpcomingTimeline"></div>
            </section>

            <!-- Row 3: Movies in Theatre -->
            <section class="content-row" id="theatreCurrentRow" data-row-type="theatre_current">
                <div class="row-header">
                    <h2 class="row-title">Movies in Theatre</h2>
                    <p class="row-subtitle">Now playing in theatres</p>
                </div>
                <div class="timeline-container" id="theatreCurrentTimeline"></div>
            </section>

            <!-- Row 4: Upcoming Theatre Releases -->
            <section class="content-row" id="theatreUpcomingRow" data-row-type="theatre_upcoming">
                <div class="row-header">
                    <h2 class="row-title">Upcoming Theatre Releases</h2>
                    <p class="row-subtitle">Coming soon to theatres</p>
                </div>
                <div class="timeline-container" id="theatreUpcomingTimeline"></div>
            </section>
        </div>
    </main>

    <!-- Backdrop -->
    <div class="backdrop" id="backdrop"></div>

    <!-- Detail Modal -->
    <div id="detailModal" class="detail-modal-overlay">
        <button class="detail-modal-close" onclick="closeDetailModal()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>

        <!-- Navigation Arrows -->
        <button id="detailNavLeft" class="detail-nav-arrow left" onclick="navigateDetailPrev()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
        </button>
        <button id="detailNavRight" class="detail-nav-arrow right" onclick="navigateDetailNext()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        </button>

        <div id="detailModalContent" class="detail-modal-content">
            <!-- Detail content will be dynamically inserted here -->
        </div>
    </div>

    <!-- Trailer Modal -->
    <div id="trailerModal" class="trailer-modal-overlay">
        <button class="trailer-modal-close" onclick="closeTrailerModal()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
        <div id="trailerPlayer" class="trailer-player-container">
            <!-- Trailer iframe will be dynamically inserted here -->
        </div>
    </div>

    <!-- Load JavaScript (deferred for better performance) -->
    <script src="detail-modal.js"></script>
    <script src="script.js" defer></script>
</body>
</html>
